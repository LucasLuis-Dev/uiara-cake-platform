<p-dialog
  [(visible)]="visible"
  [modal]="true"
  [draggable]="false"
  [resizable]="false"
  [closable]="true"
  [closeOnEscape]="true"
  [dismissableMask]="true"
  (onHide)="onHide()"
  styleClass="customer-modal"
  [style]="{ width: '90vw', 'max-width': '500px' }"
>
  <ng-template pTemplate="header">
    <h2 class="modal-title">Novo Cliente</h2>
  </ng-template>

  <form [formGroup]="customerForm" (ngSubmit)="onSave()">
    <!-- Name Field -->
    <div class="form-field">
      <label for="name" class="field-label">
        Nome <span class="required">*</span>
      </label>
      <input
        pInputText
        id="name"
        formControlName="name"
        placeholder="Digite o nome completo"
        class="form-input"
        [class.error]="nameInvalid"
      />
      <small class="error-message" *ngIf="nameInvalid">
        Nome é obrigatório (mínimo 3 caracteres)
      </small>
    </div>

    <!-- Phone Field -->
    <div class="form-field">
      <label for="phone" class="field-label">
        Telefone <span class="required">*</span>
      </label>
      <p-inputMask
        id="phone"
        formControlName="phone"
        mask="(99) 99999-9999"
        placeholder="(00) 00000-0000"
        styleClass="form-input"
        [class.error]="phoneInvalid"
      />
      <small class="error-message" *ngIf="phoneInvalid">
        Telefone é obrigatório
      </small>
    </div>

    <!-- WhatsApp Field -->
    <div class="form-field">
      <label for="whatsapp" class="field-label">WhatsApp</label>
      <p-inputMask
        id="whatsapp"
        formControlName="whatsapp"
        mask="(99) 99999-9999"
        placeholder="(00) 00000-0000"
        styleClass="form-input"
      />
    </div>

    <!-- Submit Button -->
    <button
      pButton
      type="submit"
      label="Adicionar Cliente"
      class="submit-button"
      [loading]="loading"
    ></button>
  </form>
</p-dialog>
